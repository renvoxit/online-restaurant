<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Online Restaurant{% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { margin: 30px; font-family: Arial, sans-serif; }
    header { margin-bottom: 20px; }
    .flash-message { margin: 10px 0; padding: 10px; border-radius: 6px; }
    .flash-success { background-color: #d1e7dd; color: #0f5132; }
    .flash-error { background-color: #f8d7da; color: #842029; }
  </style>
</head>
<body>

<header>
  {% if current_user.is_authenticated %}
    <strong>Logged in as {{ current_user.username }}</strong> |
    <a href="{{ url_for('main.menu') }}">Menu</a> |
    <a href="{{ url_for('main.orders') }}">Order History</a> |
    {% if current_user.is_admin %}
      <a href="{{ url_for('admin.admin_panel') }}">Admin</a> |
    {% endif %}
    <a href="{{ url_for('auth.logout') }}">Logout</a>
  {% else %}
    <a href="{{ url_for('auth.login') }}">Login</a> |
    <a href="{{ url_for('auth.register') }}">Register</a>
  {% endif %}
  <hr>
</header>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="flash-message flash-{{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

{% block content %}{% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
